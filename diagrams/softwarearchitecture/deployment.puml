@startuml deployment diagram
node server {
  [proxy]
  [webappserver]
  [api]
  [websocket]
  database data
}

[webapp]
:externepartij:

:mobiele applicatie: as a1
:mobiele applicatie: as a2

cloud github {
  artifact "user_app download" as appdl
}

api - proxy
proxy ==> webappserver : http
proxy => api : http
api ==> data : database protocol
webapp => proxy : https
proxy => websocket :WebSocket

a1 ===> proxy

externepartij => proxy : https
a1 <--> proxy : websocket 
a2 <--> proxy : websocket 
externepartij => proxy : https

appdl --> a1
appdl --> a2

@enduml

